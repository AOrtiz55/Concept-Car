<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="assets/css/Login-Form-Dark.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />

    <title>LOGIN</title>
    <style></style>
  </head>
  <body>
    <div class="card" id="card">
      <div class="media">
        <img alt="hypercar" src="../Mercedes-Benz/assets/img/login2.png" />
      </div>

      <h1>Welcome</h1>
      <p class="sub">Log in to continue your ride.</p>

      <form id="loginForm">
        <label class="field">
          <span class="icon" aria-hidden="true">
            <i class="fa fa-car"></i>
          </span>
          <input type="email" placeholder="Email" required />
        </label>

        <label class="field">
          <span class="icon" aria-hidden="true">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="1.8"
            >
              <rect x="3" y="11" width="18" height="10" rx="2" />
              <path d="M7 11V7a5 5 0 1 1 10 0v4" />
            </svg>
          </span>
          <input type="password" placeholder="Password" required />
        </label>

        <div class="row">
          <button type="submit">Log In</button>
        </div>
      </form>

      <!-- Success overlay -->
      <div class="success" id="success">
        <div class="confetti" id="confetti"></div>
        <div class="welcome">
          <div class="check">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="3"
            >
              <path d="M20 6L9 17l-5-5" />
            </svg>
          </div>
          <h2>Welcome back!</h2>
          <p>You're signed in. Have a great drive.</p>
        </div>
      </div>
    </div>

    <script>
      const form = document.getElementById("loginForm");
      const card = document.getElementById("card");
      const confettiRoot = document.getElementById("confetti");
      // â–¼ Redirect settings
      const REDIRECT_URL = "index.html"; // change to '/' or any route you use
      const REDIRECT_DELAY = 2000; // ms to wait before redirect (lets the welcome animation play)

      form.addEventListener("submit", (e) => {
        e.preventDefault();
        // Toggle success UI
        card.classList.add("success-on");
        burst();
        // Redirect to home after a short delay
        setTimeout(() => {
          window.location.assign(REDIRECT_URL);
        }, REDIRECT_DELAY);
        // Auto-hide success after 2.2s (optional)
        // setTimeout(()=> card.classList.remove('success-on'), 2200);
      });

      function burst() {
        // simple confetti burst
        confettiRoot.innerHTML = "";
        const pieces = 40;
        for (let i = 0; i < pieces; i++) {
          const s = document.createElement("span");
          const hue = Math.floor(Math.random() * 360);
          s.style.setProperty("--h", hue);
          s.style.left = Math.random() * 100 + "%";
          s.style.top = "-10px";
          s.style.transform = `translateY(-20vh) rotate(${
            Math.random() * 180
          }deg)`;
          s.style.animationDelay = Math.random() * 0.25 + "s";
          s.style.animationDuration = 0.9 + Math.random() * 0.7 + "s";
          confettiRoot.appendChild(s);
        }
      }
    </script>
    <script
      src="https://kit.fontawesome.com/a076d05399.js"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
